{"version":3,"sources":["components/Filter/index.js","service/phonebook.js","App.js","index.js"],"names":["Filter","persons","setPersons","useState","search","setSearch","useEffect","filteredPersons","filter","person","name","toLowerCase","includes","value","onChange","event","target","api","exports","getAll","Promise","resolve","reject","axios","get","then","response","data","catch","add","number","post","remove","id","delete","update","put","App","_isMounted","setIsMounted","setName","setNumber","statusMessage","setStatusMessage","fetchData","personsService","initialPersons","className","text","type","onClick","newPerson","some","find","_id","addedPerson","concat","alert","map","window","confirm","handleDeletePerson","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.3609bb0d.chunk.js","sourcesContent":["import { useEffect, useState } from \"react\";\n\nconst Filter = ({ persons, setPersons }) => {\n  const [search, setSearch] = useState('');\n\n  const handleSearch = (event) => {\n    setSearch(event.target.value);\n  };\n\n  useEffect(() => {\n    const filteredPersons = persons.filter(\n      person => person.name.toLowerCase().includes(search.toLowerCase())\n    );\n    setPersons(filteredPersons);\n  }, [search]);\n\n  return (\n    <div>\n      filter shown with: <input value={search} onChange={handleSearch} />\n    </div>\n  );\n}\n\nexport default Filter;","import axios from 'axios';\nconst api = \"https://espress-joshua.herokuapp.com/api/persons/\";\n\nconst getAll = () =>\n  new Promise((resolve, reject) => {\n    axios.get(api)\n      .then(response => resolve(response.data))\n      .catch(reject);\n  });\n\nconst add = ({name, number}) =>\n  new Promise((resolve, reject) => {\n    axios.post(api, {\n      name,\n      number,\n    })\n      .then(response => resolve(response.data))\n      .catch(reject);\n  });\n\nconst update = (id, {name, number}) =>\n  new Promise((resolve, reject) => {\n    axios.put(`${api}${id}`, {\n      name,\n      number,\n    })\n      .then(response => resolve(response.data))\n      .catch(reject);\n  });\n\nconst remove = (id) =>\n  new Promise((resolve, reject) => {\n    axios.delete(`${api}${id}`)\n      .then(response => resolve(response.data))\n      .catch(reject);\n  });\n\nconst exports = {\n  getAll,\n  add,\n  remove,\n  update\n}\n\nexport default exports;\n","import { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\n\nimport personsService from './service/phonebook'\n\nimport \"./index.css\";\n\nconst App = () => {\n  const [_isMounted, setIsMounted] = useState(false)\n  const [name, setName] = useState('')\n  const [number, setNumber] = useState('')\n  const [persons, setPersons] = useState([]);\n  const [statusMessage, setStatusMessage] = useState(null)\n\n  useEffect(() => {\n    if (!_isMounted) {\n      fetchData();\n      setIsMounted(true)\n    }\n  }, [persons, _isMounted]);\n\n  const fetchData = () => {\n    personsService\n    .getAll()\n    .then(initialPersons => {\n      setPersons(initialPersons)\n    })\n  };\n\n  const handleAddPerson = () => {\n    if (!name || !number) {\n      alert('Name and number are required');\n      return;\n    }\n\n    const newPerson = { name, number };\n\n    const isDuplicate = persons.some(person => person.name === newPerson.name);\n\n    if (isDuplicate) {\n      personsService.update(persons.find(person => person.name === newPerson.name)._id, newPerson)\n        .then(fetchData)\n      return;\n    }\n\n    personsService\n      .add(newPerson)\n      .then(addedPerson => {\n        setPersons(persons.concat(addedPerson))\n        setName('')\n        setNumber('')\n        setStatusMessage({ text: `${addedPerson.name} was added to the phonebook`, className: 'success' })\n      });\n\n  };\n\n  const handleDeletePerson = ({name, _id}) => {\n    const isConfirmed = window.confirm(`Delete ${name}?`);\n\n    if (isConfirmed) {\n      personsService\n        .remove(_id)\n        .then(() => fetchData())\n    }\n  };\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n          {statusMessage && <p className={statusMessage.className} >{statusMessage.text}</p>}\n        <Filter persons={persons} setPersons={setPersons} />\n      <form>\n        <div>\n          <div>\n            name: <input type=\"text\" value={name} onChange={event => setName(event.target.value)} />\n          </div>\n          <div>\n            number: <input type=\"text\" value={number} onChange={event => setNumber(event.target.value)} />\n          </div>\n        </div>\n        <div>\n        </div>\n      </form>\n      <button onClick={handleAddPerson}>add</button>\n      <h2>Numbers</h2>\n      {persons.map(person =>\n        <div key={person.name}>\n          <span>{person.name} - {person.number} </span>\n          <button onClick={() => handleDeletePerson(person)}>delete</button>\n        </div>\n      )}\n    </div>\n  )\n}\n\nexport default App","import ReactDOM from 'react-dom';\nimport App from './App'\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}