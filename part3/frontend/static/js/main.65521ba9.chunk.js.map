{"version":3,"sources":["components/Filter/index.js","service/phonebook.js","App.js","index.js"],"names":["Filter","persons","setPersons","useState","search","setSearch","useEffect","filteredPersons","filter","person","name","toLowerCase","includes","value","onChange","event","target","exports","getAll","Promise","resolve","reject","axios","get","then","response","data","catch","add","number","post","remove","id","delete","App","setName","setNumber","statusMessage","setStatusMessage","personsService","initialPersons","className","text","type","onClick","newPerson","some","alert","addedPerson","concat","map","window","confirm","handleDeletePerson","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.65521ba9.chunk.js","sourcesContent":["import { useEffect, useState } from \"react\";\n\nconst Filter = ({ persons, setPersons }) => {\n  const [search, setSearch] = useState('');\n\n  const handleSearch = (event) => {\n    setSearch(event.target.value);\n  };\n\n  useEffect(() => {\n    const filteredPersons = persons.filter(\n      person => person.name.toLowerCase().includes(search.toLowerCase())\n    );\n    setPersons(filteredPersons);\n  }, [search]);\n\n  return (\n    <div>\n      filter shown with: <input value={search} onChange={handleSearch} />\n    </div>\n  );\n}\n\nexport default Filter;","import axios from 'axios';\n\nconst getAll = () =>\n  new Promise((resolve, reject) => {\n    axios.get('http://localhost:3001/api/persons/')\n      .then(response => resolve(response.data))\n      .catch(reject);\n  });\n\nconst add = ({name, number}) =>\n  new Promise((resolve, reject) => {\n    axios.post('http://localhost:3001/api/persons/', {\n      name,\n      number,\n    })\n      .then(response => resolve(response.data))\n      .catch(reject);\n  });\n\nconst remove = (id) =>\n  new Promise((resolve, reject) => {\n    axios.delete(`http://localhost:3001/api/persons/${id}`)\n      .then(response => resolve(response.data))\n      .catch(reject);\n  });\n\nconst exports = {\n  getAll,\n  add,\n  remove,\n}\n\nexport default exports;\n","import { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\n\nimport personsService from './service/phonebook'\n\nimport \"./index.css\";\n\nconst App = () => {\n  const [name, setName] = useState('')\n  const [number, setNumber] = useState('')\n  const [statusMessage, setStatusMessage] = useState(null)\n  const [persons, setPersons] = useState([]);\n\n  useEffect(() => {\n    personsService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }, []);\n\n  const handleAddPerson = () => {\n    if (!name || !number) {\n      alert('Name and number are required');\n      return;\n    }\n\n    const newPerson = {\n      name: name,\n      number: number,\n    };\n\n    const isDuplicate = persons.some(person => person.name === newPerson.name);\n\n    if (isDuplicate) {\n      alert(`${newPerson.name} is already added to phonebook`);\n      return;\n    }\n\n    personsService\n      .add(newPerson)\n      .then(addedPerson => {\n        setPersons(persons.concat(addedPerson))\n        setName('')\n        setNumber('')\n        setStatusMessage({ text: `${addedPerson.name} was added to the phonebook`, className: 'success' })\n      });\n\n  };\n\n  const handleDeletePerson = ({name, id}) => {\n    const isConfirmed = window.confirm(`Delete ${name}?`);\n\n    if (isConfirmed) {\n      personsService\n        .remove(id)\n        .then(() => {\n          setPersons(persons.filter(person => person.id !== id))\n        })\n    }\n  };\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n          {statusMessage && <p className={statusMessage.className} >{statusMessage.text}</p>}\n        <Filter persons={persons} setPersons={setPersons} />\n      <form>\n        <div>\n          <div>\n            name: <input type=\"text\" value={name} onChange={event => setName(event.target.value)} />\n          </div>\n          <div>\n            number: <input type=\"text\" value={number} onChange={event => setNumber(event.target.value)} />\n          </div>\n        </div>\n        <div>\n        </div>\n      </form>\n      <button onClick={handleAddPerson}>add</button>\n      <h2>Numbers</h2>\n      {persons.map(person =>\n        <div key={person.name}>\n          <span>{person.name} - {person.number} </span>\n          <button onClick={() => handleDeletePerson(person)}>delete</button>\n        </div>\n      )}\n    </div>\n  )\n}\n\nexport default App","import ReactDOM from 'react-dom';\nimport App from './App'\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}