(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{41:function(e,t,n){},42:function(e,t,n){"use strict";n.r(t);var c=n(17),a=n.n(c),r=n(3),o=n(2),s=n(0),u=function(e){var t=e.persons,n=e.setPersons,c=Object(o.useState)(""),a=Object(r.a)(c,2),u=a[0],i=a[1];return Object(o.useEffect)((function(){var e=t.filter((function(e){return e.name.toLowerCase().includes(u.toLowerCase())}));n(e)}),[u]),Object(s.jsxs)("div",{children:["filter shown with: ",Object(s.jsx)("input",{value:u,onChange:function(e){i(e.target.value)}})]})},i=n(5),j=n.n(i),l={getAll:function(){return new Promise((function(e,t){j.a.get("http://localhost:3001/api/persons/").then((function(t){return e(t.data)})).catch(t)}))},add:function(e){var t=e.name,n=e.number;return new Promise((function(e,c){j.a.post("http://localhost:3001/api/persons/",{name:t,number:n}).then((function(t){return e(t.data)})).catch(c)}))},remove:function(e){return new Promise((function(t,n){j.a.delete("http://localhost:3001/api/persons/".concat(e)).then((function(e){return t(e.data)})).catch(n)}))}},d=(n(41),function(){var e=Object(o.useState)(""),t=Object(r.a)(e,2),n=t[0],c=t[1],a=Object(o.useState)(""),i=Object(r.a)(a,2),j=i[0],d=i[1],b=Object(o.useState)(null),h=Object(r.a)(b,2),f=h[0],m=h[1],p=Object(o.useState)([]),O=Object(r.a)(p,2),x=O[0],v=O[1];Object(o.useEffect)((function(){l.getAll().then((function(e){v(e)}))}),[]);return Object(s.jsxs)("div",{children:[Object(s.jsx)("h2",{children:"Phonebook"}),f&&Object(s.jsx)("p",{className:f.className,children:f.text}),Object(s.jsx)(u,{persons:x,setPersons:v}),Object(s.jsxs)("form",{children:[Object(s.jsxs)("div",{children:[Object(s.jsxs)("div",{children:["name: ",Object(s.jsx)("input",{type:"text",value:n,onChange:function(e){return c(e.target.value)}})]}),Object(s.jsxs)("div",{children:["number: ",Object(s.jsx)("input",{type:"text",value:j,onChange:function(e){return d(e.target.value)}})]})]}),Object(s.jsx)("div",{})]}),Object(s.jsx)("button",{onClick:function(){if(n&&j){var e={name:n,number:j};x.some((function(t){return t.name===e.name}))?alert("".concat(e.name," is already added to phonebook")):l.add(e).then((function(e){v(x.concat(e)),c(""),d(""),m({text:"".concat(e.name," was added to the phonebook"),className:"success"})}))}else alert("Name and number are required")},children:"add"}),Object(s.jsx)("h2",{children:"Numbers"}),x.map((function(e){return Object(s.jsxs)("div",{children:[Object(s.jsxs)("span",{children:[e.name," - ",e.number," "]}),Object(s.jsx)("button",{onClick:function(){return function(e){var t=e.name,n=e.id;window.confirm("Delete ".concat(t,"?"))&&l.remove(n).then((function(){v(x.filter((function(e){return e.id!==n})))}))}(e)},children:"delete"})]},e.name)}))]})});a.a.render(Object(s.jsx)(d,{}),document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.65521ba9.chunk.js.map